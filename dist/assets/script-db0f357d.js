document.querySelectorAll(".date").forEach(e=>{e.addEventListener("focusin",t=>{t.target.parentElement.nextElementSibling.style.color="var(--secondary-color)"}),e.addEventListener("focusout",t=>{t.target.parentElement.nextElementSibling.style.color=""})});document.body.addEventListener("mousedown",e=>{let t=document.activeElement;document.elementFromPoint(e.clientX,e.clientY).matches(".state-of-password i")&&document.activeElement.matches('input[id^="password"]')&&setTimeout(()=>t.focus())});document.querySelectorAll(".state-of-password i").forEach(e=>{e.addEventListener("click",t=>{t.target.classList.toggle("fa-eye-slash"),t.target.classList.toggle("fa-eye"),t.target.classList.contains("fa-eye")?t.target.parentElement.parentElement.children[0].type="text":t.target.parentElement.parentElement.children[0].type="password"})});let r=document.querySelectorAll(".step-of-form"),n=document.querySelectorAll(".step"),l=document.querySelector(".indicator"),c=Array.from(document.querySelector(".btns").children),a=0;c.forEach(e=>e.addEventListener("click",o));function o(e){e.target.classList.contains("submit")||(r[a].classList.remove("active-step-of-form"),r[e.target.classList.contains("next")?++a:--a].classList.add("active-step-of-form"),a+1===r.length?(document.querySelector(".next").classList.add("hidden-btn"),document.querySelector(".submit").classList.remove("hidden-btn")):(document.querySelector(".next").classList.remove("hidden-btn"),document.querySelector(".submit").classList.add("hidden-btn")),a?document.querySelector(".back").disabled=!1:document.querySelector(".back").disabled=!0),n.forEach((s,i)=>{i<a+1?s.classList.add("active-step"):s.classList.remove("active-step")});let t=Array.from(n).filter(s=>s.classList.contains("active-step"));l.style.height=`${(t.length-1)/(n.length-1)*100}%`}function d(e){let t={text:/\p{L}+/ui,date:[/^[1-9]$|^[1-3]\d$/,/^[1-9]$|^1[0-2]$/,/^19[1-9]{2}$|^20([0-1]\d|2[0-3])$/],email:/\w+?@\w+?\.\w+/i,password:/.{6,}/si};if(e.target.id==="date"){let s=Array.from(document.querySelector(".date").children).indexOf(e.target);t.date[s].test(e.target.value)?e.target.classList.remove("invalid-input"):e.target.classList.add("invalid-input")}else t[e.target.type].test(e.target.value)?e.target.classList.remove("invalid-input"):e.target.classList.add("invalid-input")}document.querySelectorAll("input:required").forEach(e=>e.addEventListener("change",d));document.querySelector(".submit").addEventListener("submit",e=>{let t=document.querySelector('input[id="password-again"]');(!t.value||t.value!=document.querySelector('input[id="password"]').value)&&e.preventDefault()});
